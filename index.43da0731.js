const t=document.querySelector("#js-form"),e=document.querySelector("#js-form-input"),o=document.querySelector("#js-todo-list"),n=document.querySelector("#js-todo-count");let i=[],s=0;const d=new class{constructor(){this._listeners=new Map}addEventListener(t,e){this._listeners.has(t)||this._listeners.set(t,new Set);this._listeners.get(t).add(e)}emit(t){const e=this._listeners.get(t);e&&e.forEach((t=>{t.call(this)}))}removeEventListener(t,e){const o=this._listeners.get(t);o&&o.forEach((t=>{t===e&&o.delete(e)}))}};function c(t){const e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}d.addEventListener("todo_items Update",(()=>{console.log(i);const t=function(){const t=c("<ul />");return i.forEach((e=>{const o=e.completed?c(`<li>\n            <input type="checkbox" class="checkbox" checked>\n            <s>${e.title}</s>\n            <button class="delete">x</button>\n            </li>`):c(`<li>\n            <input type="checkbox" class="checkbox">\n            ${e.title}\n            <button class="delete">x</button>\n            </li>`);t.appendChild(o);o.querySelector(".checkbox").addEventListener("change",(()=>{!function({todo_items:t,todo_item:e}){const o=t.find((t=>t.id===e.id)),n={id:o.id,title:o.title,completed:!o.completed};t[n.id]=n}({todo_items:i,todo_item:e}),d.emit("todo_items Update")}));o.querySelector(".delete").addEventListener("click",(()=>{const t=function({todo_items:t,todo_item:e}){const o=t.find((t=>t.id===e.id));return t.filter((t=>t.id!==o.id))}({todo_items:i,todo_item:e});i=t,console.log("delete ddd"),d.emit("todo_items Update")}))})),t}();o.innerHTML="",o.appendChild(t),n.textContent=`Todoアイテム数 : ${i.length}`})),t.addEventListener("submit",(t=>{t.preventDefault(),function({todo_items:t,title:e}){const o={id:s++,title:e,completed:!1};t.push(o)}({todo_items:i,title:e.value}),e.value="",d.emit("todo_items Update")}));
//# sourceMappingURL=index.43da0731.js.map
